<html>
<head>
<script type="text/javascript">
	function test(type) {
		//var canvas = document.createElement("canvas");
		var canvas = document.getElementById('dest')
		canvas.height = 400;
		canvas.width = 400;
		if (canvas.getContext) {
			var ctx = canvas.getContext("2d");
			ctx.lineWidth = "15";
			ctx.lineJoin = type;
			var t = new Date().getTime();
			ctx.beginPath();
			for ( var i = 0; i < 100000; i++) {
				ctx.moveTo(10 + i, 10 + i);
				ctx.lineTo(300 + i, 30 + i);
				ctx.lineTo(270 + i, 200 + i);
			}
			ctx.stroke();
			t = new Date().getTime() - t;
			console.log("T: " + t);
		}
	}
</script>
</head>
<body>
	<canvas width="400" height="400" id="dest"></canvas>
	<input type="button" onclick="test('miter')" value="miter" />
	<input type="button" onclick="test('round')" value="round" />
	<input type="button" onclick="test('bevel')" value="bevel" />
</body>
</html>